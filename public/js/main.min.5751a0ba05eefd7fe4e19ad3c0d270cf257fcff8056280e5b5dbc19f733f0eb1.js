document.addEventListener("DOMContentLoaded",()=>{const s=document.querySelector(".navbar"),l=document.querySelector(".hero-section"),c=()=>{if(l){const e=l.offsetHeight;window.scrollY>e*.1?(s.classList.add("solid"),s.classList.remove("transparent")):(s.classList.remove("solid"),s.classList.add("transparent"))}else s.classList.add("solid"),s.classList.remove("transparent")};c(),window.addEventListener("scroll",c);const o=document.getElementById("theme-toggle"),r=localStorage.getItem("theme");r?(document.body.classList.add(r),r==="dark"&&(o.checked=!0)):window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&(document.body.classList.add("dark"),o.checked=!0),o.addEventListener("change",()=>{o.checked?(document.body.classList.add("dark"),localStorage.setItem("theme","dark")):(document.body.classList.remove("dark"),localStorage.setItem("theme","light"))});const i=document.querySelector(".menu-toggle"),n=document.querySelector(".nav-links");i&&n&&(i.addEventListener("click",()=>{n.classList.toggle("active"),i.innerHTML=n.classList.contains("active")?'<i class="fas fa-times"></i>':'<i class="fas fa-bars"></i>'}),n.querySelectorAll("a").forEach(e=>{e.addEventListener("click",()=>{n.classList.contains("active")&&(n.classList.remove("active"),i.innerHTML='<i class="fas fa-bars"></i>')})}));const a=document.querySelector(".back-to-top"),m=()=>{window.scrollY>300?a.style.display="flex":a.style.display="none"};window.addEventListener("scroll",m),a.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})});const e=document.createElement("div");e.classList.add("mouse-trail"),document.body.appendChild(e),document.addEventListener("mousemove",t=>{e.style.left=`${t.clientX}px`,e.style.top=`${t.clientY}px`,e.style.opacity="1"}),document.addEventListener("mouseleave",()=>{e.style.opacity="0"});const h=document.querySelectorAll(".fade-element"),u={root:null,rootMargin:"0px",threshold:.1},d=new IntersectionObserver((e,t)=>{e.forEach(e=>{e.isIntersecting&&(e.target.classList.add("visible"),t.unobserve(e.target))})},u);h.forEach(e=>{d.observe(e)});const t=document.querySelector(".portfolio-section");if(t){let n=t.scrollLeft,e;t.addEventListener("scroll",()=>{clearTimeout(e),t.classList.add("shaking"),e=setTimeout(()=>{t.classList.remove("shaking")},300),n=t.scrollLeft})}})